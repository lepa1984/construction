(()=>{"use strict";const e=document.querySelector(".burger"),t=document.querySelector(".header__mobile-close"),r=document.querySelector(".header__overlay"),c=document.querySelector(".header__mobile-btn");c&&c.addEventListener("click",(e=>{r.classList.remove("active"),document.querySelector(".burger__btn").classList.remove("active"),document.querySelector(".header__mobile-menu").classList.remove("active"),h.classList.remove("active")})),e.addEventListener("click",(()=>{document.querySelector(".burger__btn").classList.toggle("active"),r.classList.toggle("active"),document.querySelector(".header__mobile-menu").classList.toggle("active"),document.querySelector("body").classList.toggle("active")})),t.addEventListener("click",(()=>{document.querySelector(".burger__btn").classList.toggle("active"),r.classList.toggle("active"),document.querySelector(".header__mobile-menu").classList.toggle("active"),document.querySelector("body").classList.toggle("active")})),r.addEventListener("click",(e=>{e.target==r&&(r.classList.remove("active"),document.querySelector(".burger__btn").classList.remove("active"),document.querySelector(".header__mobile-menu").classList.remove("active"),h.classList.remove("active"))}));var o=new Swiper(".swiper.mySwiper",{slidesPerView:"auto",direction:"vertical"});new Swiper(".swiper.mySwiper2",{spaceBetween:10,navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},thumbs:{swiper:o}}),new Swiper(".swiper.swiper-order",{spaceBetween:30,loop:!0,loopFillGroupWithBlank:!0,loopedSlides:5,slidesPerView:1,navigation:{nextEl:".works .swiper-button-next",prevEl:".works .swiper-button-prev"},breakpoints:{320:{slidesPerView:1},769:{slidesPerView:2},1025:{slidesPerView:3}}}),window.matchMedia("(max-width: 1025px)").matches&&(new Swiper(".swiper.swiper-works",{spaceBetween:20,loop:!0,loopFillGroupWithBlank:!0,loopedSlides:5,slidesPerView:1,observer:!0,observeParents:!0,observeSlideChildren:!0,navigation:{nextEl:".works .swiper-button-next",prevEl:".works .swiper-button-prev"},breakpoints:{320:{slidesPerView:1},769:{slidesPerView:2}}}),document.querySelector(".swiper-works")&&document.querySelectorAll(".works__card").forEach(((e,t)=>{e.classList.contains("hidden")&&e.classList.remove("hidden")}))),window.matchMedia("(min-width: 1025px)").matches&&document.querySelector(".swiper-works")&&document.querySelectorAll(".works__card").forEach(((e,t)=>{t>2&&e.classList.add("hidden")})),function(e){let t=new Image;t.onload=t.onerror=function(){!function(e){let t=!0===e?"webp":"no-webp";document.documentElement.classList.add(t)}(2==t.height)},t.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA"}();const a=document.querySelector(".header");function n(e){var t="+7 (___) ___-__-__",r=0,c=t.replace(/\D/g,""),o=this.value.replace(/\D/g,"");c.length>=o.length&&(o=c),this.value=t.replace(/./g,(function(e){return/[_\d]/.test(e)&&r<o.length?o.charAt(r++):r>=o.length?"":e})),"blur"==e.type?this.value.length<18&&(this.value=""):function(e,t){if(t.focus(),t.setSelectionRange)t.setSelectionRange(e,e);else if(t.createTextRange){var r=t.createTextRange();r.collapse(!0),r.moveEnd("character",e),r.moveStart("character",e),r.select()}}(this.value.length,this)}window.addEventListener("scroll",(function(){scrollY>100?a.classList.add("active"):a.classList.remove("active")})),document.querySelector(".accordion")&&document.querySelectorAll(".accordion__item").forEach((e=>{document.querySelector(".accordion__item").classList.add("active"),document.querySelector(".accordion__control").setAttribute("aria-expanded",!0),document.querySelector(".accordion__content").setAttribute("aria-hidden",!1),document.querySelector(".accordion__content").style.maxHeight=document.querySelector(".accordion__content").scrollHeight+"px",e.addEventListener("click",(e=>{const t=e.currentTarget,r=t.querySelector(".accordion__control"),c=t.querySelector(".accordion__content");t.classList.toggle("active"),t.classList.contains("active")?(r.setAttribute("aria-expanded",!0),c.setAttribute("aria-hidden",!1),c.style.maxHeight=c.scrollHeight+"px"):(r.setAttribute("aria-expanded",!1),c.setAttribute("aria-hidden",!0),c.style.maxHeight=null)}))}));const i=document.querySelector("#form-application");i&&u(i,"Спасибо! Мы получили вашу заявку. В ближайшее время Вам позвонит оператор.");const s=document.querySelector("#form-faq");s&&u(s,"Спасибо! Мы получили вашу заявку. В ближайшее время мы вам позвоним или ответим на эл. почту.");const l=document.querySelector("#form-calculation ");l&&u(l,"Спасибо! Мы получили вашу заявку. В ближайшее время Вам позвонит оператор.");const d=document.querySelector("#form-callback ");function u(e,t){const r=e.querySelector(".form__btn"),c=document.querySelectorAll(".form__body input[name='phone']");let o=e.querySelector("input[name='phone']");r.addEventListener("click",(r=>{o.value.length<18?o.parentNode.classList.add("active"):(r.preventDefault(),function(e,t){e.querySelector(".form__content").innerHTML=`\n            <div class="after-send">\n            <img src=" img/success.svg" alt="icon"  />\n            <p> ${t}                 \n            </p>\n        </div>\n            `}(e,t))})),c.forEach((t=>{t.addEventListener("input",n),t.addEventListener("input",(()=>{let t=e.querySelector("input[name='phone']");t&&t.parentNode.classList.remove("active")})),t.addEventListener("focus",n,!1),t.addEventListener("blur",n,!1)}))}l&&u(d,"Спасибо! Мы получили вашу заявку. В ближайшее время Вам позвонит оператор."),document.querySelector(".contacts")&&ymaps.ready((function(){let e=new ymaps.Map("map",{center:[60.071084,30.36267],zoom:16,controls:[]}),t=(new ymaps.GeoObject({geometry:{type:"Point",coordinates:[60.071084,30.36267]},properties:{iconContent:"Я тащусь",hintContent:"Ну давай уже тащи"}}),new ymaps.Placemark([60.071084,30.36267],{iconCaption:" "},{iconLayout:"default#image",iconImageHref:"img/map.png",iconImageSize:[35,55],iconImageOffset:[-5,-38]}));e.balloon.open([60.071094,30.3648]," 5-й Верхний переулок дом 14",{closeButton:!1}),e.geoObjects.add(t),e.controls.add("geolocationControl"),e.controls.add("zoomControl"),e.behaviors.disable(["scrollZoom"])}));var m=document.querySelector(".form .reviews__stars"),v=document.querySelectorAll(".form .reviews__star");if(m){function e(e){[].forEach.call(v,(function(t,r){r<e&&t.classList.add("active")}))}m.onmouseover=function(e){if(e.target.classList.contains("reviews__star")){var t=e.target;[].forEach.call(v,(function(e,r){r<t.getAttribute("data-rate")?e.classList.add("active"):r>=t.getAttribute("data-rate")&&e.classList.remove("active")}))}},m.onmouseout=function(t){var r;[].forEach.call(v,(function(e,t){e.classList.contains("item-current")&&(r=t,document.querySelector(".form input[hidden").value=t+1)})),void 0===r?[].forEach.call(v,(function(e){"0"!==e.getAttribute("data-rate")&&e.classList.remove("active")})):e(r)},m.onclick=function(e){const t=document.querySelector(".form .reviews__rating");t.classList.contains("active")&&t.classList.remove("active");var r=e.target;r.classList.add("item-current");var c=r.parentNode.querySelectorAll(".reviews__star");[].forEach.call(c,(function(e){e!==r&&e.classList.remove("item-current")}))}}const p=document.querySelector("#form-reviews"),g=document.querySelector("#form-reviews .form__btn");g&&g.addEventListener("click",(e=>{e.preventDefault(),function(e){const t=e.querySelector("input[name='email']"),r=e.querySelectorAll("input[required]"),c=e.querySelector("textarea[required]");var o=t.value;const a=e.querySelector("input[hidden");let n=!1;return c.addEventListener("input",(()=>{c.parentNode.classList.remove("active")})),r.forEach((e=>{if(e.addEventListener("input",(()=>{e.parentNode.classList.remove("active")})),e.value.length<2)return e.parentNode.classList.add("active"),n=!1;n=!0})),a.value.length<1?(a.parentNode.classList.add("active"),n=!1):(n=!0,c.value.length<2?(c.parentNode.classList.add("active"),n=!1):(n=!0,0==/^([A-Za-z0-9_\-\.])+\@([A-Za-z0-9_\-\.])+\.([A-Za-z]{2,4})$/.test(o)?(t.parentNode.classList.add("active"),n=!1):(n=!0,n)))}(p)&&(p.querySelector(".form__content").innerHTML='\n            <div class="after-send">\n            <img src=" img/success.svg" alt="icon"  />\n            <p>\n                Спасибо за вашу обратную связь! Мы рассмотрим ваш отзыв в ближайшее\n                время, и он обязательно появится на сайте.\n            </p>\n        </div>\n            ')}));const y=document.querySelectorAll(".btn-popup"),L=document.querySelector(".modal-overlay "),_=document.querySelectorAll(".modal"),S=document.querySelectorAll(".close"),h=document.querySelector("body");y.forEach((e=>{e.addEventListener("click",(e=>{let t=e.currentTarget.getAttribute("data-path");_.forEach((e=>{e.classList.remove("active")})),h.classList.add("active"),document.querySelector(`[data-target="${t}"]`).classList.add("active"),L.classList.add("active")}))})),S.forEach((e=>{e.addEventListener("click",(()=>{L.classList.remove("active"),_.forEach((e=>{e.classList.remove("active")})),h.classList.remove("active")}))})),L.addEventListener("click",(e=>{e.target==L&&(L.classList.remove("active"),_.forEach((e=>{e.classList.remove("active")})),h.classList.remove("active"))}));const f=document.querySelectorAll(".video"),w=document.querySelectorAll(".video__item");f&&w.forEach((e=>{const t=e.querySelector(".play");console.log(t),t.addEventListener("click",(()=>{t.nextElementSibling.paused?(t.nextElementSibling.play(),t.classList.add("active")):(t.nextElementSibling.pause(),t.classList.remove("active"))}),!1)})),document.querySelectorAll(".price__tab").forEach((e=>{e.addEventListener("click",(()=>{const t=document.querySelector(".price__tab.active");t&&t.classList.remove("active"),e.classList.add("active")}))}))})();